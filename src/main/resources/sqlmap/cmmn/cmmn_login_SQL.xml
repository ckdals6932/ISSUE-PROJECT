<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="cmmn_login">
	<select id="select_SYS_USER" parameterType="hashmap" resultType="hashmap">
		SELECT * FROM SYS_USER
		WHERE 1=1
		<if test='userSeq != "" and userSeq != null'>
		AND USER_SEQ = #{userSeq}
		</if>
		<if test='userId != "" and userId != null'>
		AND USER_ID = #{userId}
		</if>
	</select>
	
	<update id="update_SYS_USER" parameterType="hashmap">
		UPDATE SYS_USER
			SET
				MODI_USER_SEQ = #{req_user_seq}
				,MODI_DT = GETDATE()
				<if test='loginFailCnt != "" and loginFailCnt != null'>
				,LOGIN_FAIL_CNT = #{loginFailCnt}
				</if>
		WHERE 1=1
			<if test='userSeq != "" and userSeq != null'>
			AND USER_SEQ = #{userSeq}
			</if>
			<if test='userId != "" and userId != null'>
			AND USER_ID = #{userId}
			</if>
	</update>
</mapper>